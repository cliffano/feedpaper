<div class="app-page" data-page="feedpocket">
  <div class="app-topbar black">
    <div class="app-title">FeedPocket</div>
  </div>
  <div class="app-content">
    <ul class="app-list">
      <% categories.forEach(function (category) { %>
        <li class="app-button" data-target="category-<%= category.id %>"><%= category.title %></li>
      <% }) %>
    </ul>
  </div>
</div>

<% categories.forEach(function (category) { %>
  <div class="app-page" data-page="category-<%= category.id %>">
    <div class="app-topbar black">
      <div class="app-button left" data-back></div>
      <div class="app-title"><%= category.title %></div>
    </div>
    <div class="app-content">
      <ul class="app-list">
        <% category.feeds.forEach(function (feed) { %>
          <li class="app-button" data-target="feed" data-target-args='{ "id": "<%= feed.id %>", "title": "<%= feed.title %>" }'><%= feed.title %></li>
        <% }) %>
      </ul>
    </div>
  </div>
<% }) %>

<div class="app-page" data-page="feed">
  <div class="app-topbar black">
    <div class="app-button left" data-back></div>
    <div class="app-title"></div>
  </div>
  <div class="app-content">
    <ul class="app-list">
    </ul>
  </div>
</div>

<div class="app-page" data-page="article">
  <div class="app-topbar black">
    <div class="app-button left" data-back></div>
    <div class="app-title"></div>
  </div>
  <div id="article" class="app-content">
  </div>
</div>

<script type="text/javascript">
$(document).ready(function () {{
  App.load('feedpocket', function () {{
    console.log('FeedPocket client loaded');
  }});
}});
</script>